(this.webpackJsonpCards=this.webpackJsonpCards||[]).push([[0],{16:function(t,e,n){t.exports=n(29)},21:function(t,e,n){},22:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(2),c=n.n(o),s=(n(21),n(22),n(9)),i=n(10),l=n(15),d=n(14),u=n(3);var m=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).onScroll=function(){console.log(window.innerHeight+window.scrollY,document.body.offsetHeight),window.innerHeight+window.scrollY>=document.body.offsetHeight&&(console.log("asd"),a.setState({start:a.state.start+10},(function(){document.getElementById("cover-spin").style.display="block",this.props.fetchCardsAPI({start:this.state.start,limit:this.state.limit})})),document.removeEventListener("scroll",a.onScroll))},a.state={start:0,limit:10},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!1),this.props.fetchCardsAPI({start:this.state.start,limit:this.state.limit})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){var t=this.props.cards;return console.log(this.props),t.cards.map((function(e,n){return console.log(n,t.cards.length-1),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Card : ",e.id),r.a.createElement("div",{className:"card",style:{width:"18rem",margin:"auto"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.title),r.a.createElement("p",{className:"card-text"},e.body))),n===t.cards.length-1&&r.a.createElement("div",{id:"cover-spin"}))}))}}]),n}(a.Component),h=Object(u.b)((function(t){return console.log("state:",t),{cards:t.cards}}),(function(t){return{fetchCardsAPI:function(e){return t(function(t){return function(e){fetch("https://jsonplaceholder.typicode.com/posts?_start=".concat(t.start,"&_limit=").concat(t.limit)).then((function(t){return t.json()})).then((function(t){if(t.error)throw t.error;return e({type:"FETCH_CARDS",cards:t}),t})).catch((function(t){}))}}(e))}}}))(m);function p(t){return r.a.createElement("div",{className:"App",id:"main"},r.a.createElement("nav",{class:"navbar navbar-dark bg-dark"},r.a.createElement("span",{class:"navbar-brand mb-0 h1"},"Cards")),r.a.createElement(h,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var f=n(1),v=n(12),b=n(13),g=n(7),w={cards:[],loading:!0},E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(console.log(e),e.type){case"FETCH_CARDS":return Object(g.a)(Object(g.a)({},t),{},{cards:t.cards.concat(e.cards)});default:return t}},y=Object(f.combineReducers)({cards:E}),j=[v.a],C=Object(f.createStore)(y,Object(b.composeWithDevTools)(),f.applyMiddleware.apply(void 0,j));c.a.render(r.a.createElement(u.a,{store:C},r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.365fec40.chunk.js.map